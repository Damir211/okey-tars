"use strict";var stepsContainers=document.querySelectorAll(".steps__container");stepsContainers.forEach((function(item){var borderImgSrc=item.dataset.border;item.style.backgroundImage="url(".concat(borderImgSrc,")")}));var partnersContainers=document.querySelectorAll(".partners__list.hide-more");function popupOpen(selector){var popup=document.querySelector(selector);popup&&(popup.classList.add("active"),document.body.style.width=document.body.offsetWidth+"px",document.querySelector("header").style.width=document.body.offsetWidth+"px",document.body.classList.add("no-scroll"))}function popupClose(){document.querySelectorAll(".popup").forEach((function(item){item.classList.remove("active")})),document.body.style.width="100%",document.querySelector("header").style.width="100%",document.body.classList.remove("no-scroll")}function getBodyScrollTop(){return self.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop}partnersContainers.forEach((function(item){item.querySelector(".button-visible-more").addEventListener("click",(function(){item.classList.remove("hide-more")}))})),document.querySelectorAll(".popup__close").forEach((function(item){item.addEventListener("click",popupClose)})),document.querySelectorAll("[data-popup-open]").forEach((function(item){item.addEventListener("click",(function(e){e.preventDefault(),popupOpen("."+item.dataset.popupOpen)}))})),document.querySelectorAll(".popup").forEach((function(popup){popup.addEventListener("mousedown",(function(e){e.target===this&&popupClose()}))})),document.querySelectorAll("a").forEach((function(link){link.addEventListener("click",(function(e){var href=link.hash.substring(1),scrollTarget=document.getElementById(href);if(scrollTarget){e.preventDefault();var topOffset=document.querySelector(".header").offsetHeight+20,offsetPosition=scrollTarget.getBoundingClientRect().top-topOffset;window.scrollBy({top:offsetPosition,behavior:"smooth"})}}))})),window.addEventListener("scroll",(function(){getBodyScrollTop()>0?document.querySelector(".header").classList.add("scrolled"):document.querySelector(".header").classList.remove("scrolled")}));var timerElement=document.querySelector(".timer"),partnersBlock=document.getElementById("partners"),fixedLinkElement=document.querySelector(".fixed-link"),partnersBlockOffsetTop=document.body.offsetHeight;if(partnersBlock&&(partnersBlockOffsetTop=partnersBlock.offsetTop),timerElement){timerElement.querySelector(".timer__close").addEventListener("click",(function(){this.closest(".timer").classList.add("hide")})),window.addEventListener("scroll",(function(){var scrollTop=getBodyScrollTop();scrollTop>0&&scrollTop<partnersBlockOffsetTop?timerElement.classList.add("active"):timerElement.classList.remove("active")}));var dataEndDate=timerElement.dataset.timerTo,endDate=new Date(dataEndDate).getTime(),timer=setInterval((function(){var now=(new Date).getTime(),t=endDate-now;if(t>=0){var hours=Math.floor(t/1e3/60/60),mins=Math.floor(t%36e5/6e4),secs=Math.floor(t%6e4/1e3);hours=hours<10?("0"+hours).slice(-2):hours,document.getElementById("timer__hours").innerHTML=hours,document.getElementById("timer__mins").innerHTML=("0"+mins).slice(-2),document.getElementById("timer__sec").innerHTML=("0"+secs).slice(-2)}else timerElement.querySelector(".timer__time").innerHTML="Завершён!"}),1e3)}fixedLinkElement&&window.addEventListener("scroll",(function(){getBodyScrollTop()+120>partnersBlockOffsetTop?fixedLinkElement.classList.add("active"):fixedLinkElement.classList.remove("active")}));